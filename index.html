<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-
    EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  </head>
<body class="body">
    <div class="container">
        <div class="container-fluid" id="data">
            <div class="row">
                <div class="col-md-12 text-center" id="Heading">
                    <h1>My Grocery List</h1><br>
                </div>
              <div class="col-md-4">
            <input type="text" id="name" placeholder="Enter Item" class="form-control w-100">
              </div>
              <div class="col-md-4">
                <input type="number" id="quantity" placeholder="Quantity" class="form-control w-100">
              </div>
              <div class="col-md-4">
                <input type="number" id="price" placeholder="Price" class="form-control w-100"><br>
              </div>
              <div class="col-md-10 text-center" >
                <button class=" btn btn-primary btn-sm" >Add Item</button>
              </div>
            </div>
          </div>



        <table class="table table table-info table-striped table-hover" id="table1">
            <tr>
                <th>Item</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Remove</th>  
            </tr>

            <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>  
            </tr>

        </table>
        <span id="val">Total:Php<span id="total"> </span></span>

    </div>

    <script>
        let total = document.querySelector('#total')
        let totalarray = []
        let totalprice = 0
        let btnAdd = document.querySelector('button')
        let table = document.querySelector('table')
        let tableEl = document.querySelector('table')

        let nameInput = document.querySelector('#name')
        let quantityInput = document.querySelector('#quantity')
        let priceInput = document.querySelector('#price')
        

        btnAdd.addEventListener('click', () =>{
            
        tableEl.addEventListener('click', onDeleteRow);
            
            let name = nameInput.value;
            let quantity = quantityInput.value;
            let price = priceInput.value;

            if(name == "" ){
                alert("Please Add Name");
                
            }else if(quantity == ""){
                alert("Please Add Quantity");

            }else if(price == ""){
                alert("Please Add Price");

            }
            else{
                let template = `
            <tr>
                <td>${name}</td>
                <td>${quantity}</td>
                <td>${price}</td>
                <td><button class="deleteBtn btn btn-danger">Remove</button></td>
            </tr> `;

            table.innerHTML += template;
            alert("Item Added");
            nameInput.value=""
            quantityInput.value=""
            priceInput.value="" 

            totalarray.push(price)
            
            totalarray.forEach(res=>{
                totalprice += Number(res)
            })
            total.innerHTML=totalprice
            }
            

        function onDeleteRow (e) {
            if (!e.target.classList.contains('deleteBtn')){
                return;
            }
            let btn = e.target;
            btn.closest('tr').remove();
            alert("Item Removed");
        }
        

        })
        
        

    </script>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
</html>
  